<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="a">購物車總額</button>
    <button id="b">清空購物車</button></br>

    <img src="https://img.pchome.com.tw/cs/items/DBAY10A900HSAQB/000001_1745308789.jpg?width=320">
    <p>$134</p>
    <button id="c">加入購物車</button><br>
    <img src="https://no3.com.tw/images/202006/goods_img/2382_P_1592171133889.jpg">
    <p>$66</p>
    <button id="d">加入購物車</button>

    <script>
        let sum=parseInt(localStorage.getItem("price")) || 0;;
        console.log("當前總額是：" + sum);
        const price=[134,66];
        const buttonA = document.querySelector("#a");
        const buttonB = document.querySelector("#b");
        function updateCartTotal() {
            localStorage.setItem("price", sum);
            console.log("總額為：" + sum);                           
            console.log("目前金額" + localStorage.getItem("price")); 
        }
        document.querySelector("#c").addEventListener("click", function () {
            sum += price[0];
            updateCartTotal();
        });
        document.querySelector("#d").addEventListener("click", function () {
            sum += price[1];
            updateCartTotal();
        });
        document.querySelector("#a").addEventListener("click", function () {
            localStorage.setItem("price", sum);
                buttonA.innerHTML = "總額：$" + sum
                setTimeout(() => {
                    buttonA.innerHTML = "購物車總額";
                }, 3000);
        });
        document.querySelector("#b").addEventListener("click", function () {
            sum = 0;
            buttonB.innerHTML = "已清空！";
            setTimeout(() => {
            buttonB.innerHTML = "清空購物車";
            }, 2000);
            updateCartTotal();
        });
    </script>
        
</body>
</html>
